(this.webpackJsonpbookclub=this.webpackJsonpbookclub||[]).push([[0],{116:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var s=n(4),r=n(5),i=n.n(r),a=n(41),c=n.n(a),o=(n(80),n(21)),l=n(14),d=n(22),j=n.n(d),u=n(34),b=n(29),h=n(30),p=n(32),x=n(31),O=n(44),g=n(8),f=(n(83),{apiKey:"AIzaSyBqtnG636jIrQnGaGFnWYhCqkGUavLmdfo",authDomain:"bookclub-4b029.firebaseapp.com",projectId:"bookclub-4b029",storageBucket:"bookclub-4b029.appspot.com",messagingSenderId:"995047942413",appId:"1:995047942413:web:82ba04356925a88c86a844"});g.a.initializeApp(f);var m=n(53),v=n(54),y=function(e){var t=e.children,n=e.label,r=e.props,i=e.formikKey;return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:n}),t,Object(s.jsx)("p",{children:r.touched[i]&&r.errors[i]})]})},k=function(e){var t=e.label,n=e.props,r=e.formikKey,i=Object(v.a)(e,["label","props","formikKey"]);return Object(s.jsx)(y,{label:t,formikKey:r,props:n,children:Object(s.jsx)("input",Object(m.a)({style:{overflowWrap:"break-word"},onChange:n.handleChange(r),onBlur:n.handleBlur(r)},i))})},w=function(e){var t=e.label,n=e.props,r=e.formikKey,i=Object(v.a)(e,["label","props","formikKey"]);return Object(s.jsx)(y,{label:t,formikKey:r,props:n,children:Object(s.jsx)("textarea",Object(m.a)({style:{overflowWrap:"break-word"},onChange:n.handleChange(r),onBlur:n.handleBlur(r)},i))})};var S=n(25);var C=n(36),B=!1,A=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1];return B=function(){return a(!0)},console.log(n),Object(s.jsx)("div",{children:n?Object(s.jsx)("div",{style:{padding:"5px"},children:Object(s.jsx)(S.a,{initialValues:{title:"",author:""},onSubmit:function(e){!function(e){var t=g.a.database().ref("/suggestions").push().key;g.a.database().ref("/suggestions/"+t).set({id:t,author:e.author,title:e.title})}(e)},children:function(e){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{props:e,formikKey:"title",placeholder:"Title:"}),Object(s.jsx)(k,{props:e,formikKey:"author",placeholder:"Author:"}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:e.handleSubmit,children:"Submit"})})]})})}})}):null})},K=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),g.a.apps.length||g.a.initializeApp(f),e.state={books:[],nextBook:["",""],currentBook:["",""],signedInUser:"",suggestions:[]},e}return Object(h.a)(n,[{key:"getCurrentBook",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.database().ref("/current");case 2:e.sent.on("value",(function(e){var n=Object.values(e.val());t.setState({currentBook:n})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextBook",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.database().ref("/upNext");case 2:e.sent.on("value",(function(e){var n=Object.values(e.val());t.setState({nextBook:n})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSuggestions",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.database().ref("/suggestions");case 2:e.sent.on("value",(function(e){var n=Object.values(e.val());t.setState({suggestions:n})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBooks",value:function(){var e=this;g.a.database().ref("/books").on("value",(function(t){var n=t.val(),s=Object.values(n);e.setState({books:s})}))}},{key:"getSignedInUser",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.auth().currentUser;case 2:null!==(t=e.sent)&&this.setState({signedInUser:t.displayName});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSuggestion",value:function(e){g.a.database().ref("/suggestions/"+e).remove()}},{key:"componentDidMount",value:function(){this.getBooks(),this.getCurrentBook(),this.getSignedInUser(),this.getNextBook(),this.getSuggestions()}},{key:"render",value:function(){var e=this,t=this.state.books,n=this.state.suggestions;return Object(s.jsxs)("div",{style:{paddingLeft:"10px",display:"flex"},children:[Object(s.jsxs)("div",{style:{maxWidth:"320px",borderRight:"1px solid black",padding:"10px"},children:[Object(s.jsxs)("h1",{style:{textAlign:"center"},children:["Welcome to Book Club ",this.state.signedInUser?this.state.signedInUser:""]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h2",{children:"Currently Reading:"}),Object(s.jsx)("h5",{children:Object(s.jsx)("input",{type:"text",name:"currentTitle",style:{border:"none",fontWeight:"bold"},onChange:function(e){return t=e.target.value,void g.a.database().ref("/current").update({title:t});var t},defaultValue:this.state.currentBook[1]})}),Object(s.jsxs)("h5",{children:["By ",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"currentAuthor",style:{border:"none",fontStyle:"italic"},defaultValue:this.state.currentBook[0],onChange:function(e){return t=e.target.value,void g.a.database().ref("/current").update({author:t});var t}})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h2",{children:"Up Next:"}),Object(s.jsx)("h5",{children:Object(s.jsx)("input",{type:"text",name:"nextTitle",style:{border:"none",fontWeight:"bold"},defaultValue:this.state.nextBook[1],onChange:function(e){return t=e.target.value,void g.a.database().ref("/upNext").update({title:t});var t}})}),Object(s.jsxs)("h5",{children:["By ",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"nextAuthor",style:{border:"none",fontStyle:"italic"},defaultValue:this.state.nextBook[0],onChange:function(e){return t=e.target.value,void g.a.database().ref("/upNext").update({author:t});var t}})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h2",{children:"Suggestions:"}),n.map((function(t){var n=t.id;return Object(s.jsx)("div",{children:Object(s.jsxs)("h5",{children:[Object(s.jsx)("b",{children:t.title}),Object(s.jsx)("br",{}),"By ",Object(s.jsx)("i",{children:t.author}),Object(s.jsx)("div",{style:{cursor:"point"},onClick:e.deleteSuggestion.bind(null,n),children:Object(s.jsx)(C.c,{icon:"minus",size:"1x"})})]})})})),Object(s.jsx)(A,{}),Object(s.jsx)("button",{onClick:B,children:Object(s.jsx)(C.c,{icon:"plus",size:"1x"})})]}),Object(s.jsx)("div",{style:{padding:"10px"}}),Object(s.jsx)("div",{children:t.map((function(t){var n=Object.values(t.comments),r=t.id;return Object(s.jsxs)("div",{style:{paddingRight:"20px"},children:[Object(s.jsxs)("div",{style:{display:"flex",width:"100%",border:"1px solid black",borderRadius:"5px",padding:"10px"},children:[Object(s.jsxs)("div",{style:{paddingRight:"10px",maxWidth:"35%"},children:[Object(s.jsxs)("h3",{children:[Object(s.jsx)("b",{children:t.title}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{style:{fontSize:"20px"},children:["By ",Object(s.jsx)("i",{children:t.author})]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h4",{children:"Synopsis"}),Object(s.jsx)("p",{children:t.synopsis}),Object(s.jsx)("br",{}),Object(s.jsx)("h4",{children:"Themes"}),Object(s.jsx)("p",{children:t.themes})]}),Object(s.jsx)("div",{style:{borderLeft:"1px solid black",paddingRight:"10px"}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"Discussion"}),0===n.length?Object(s.jsx)("div",{children:Object(s.jsx)("i",{children:"No one has anything to say about this book...yet!"})}):Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsxs)("div",{style:{paddingBottom:"10px"},children:[Object(s.jsxs)("p",{children:[e.comment,Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{children:e.date}),Object(s.jsx)("span",{style:{float:"right"},children:Object(s.jsx)("b",{children:Object(s.jsxs)("i",{children:["- ",e.username]})})})]}),Object(s.jsx)("hr",{})]})}))}),Object(s.jsx)(S.a,{initialValues:{comment:""},onSubmit:function(t){e.state.signedInUser?(!function(e,t,n,s){var r=g.a.database().ref("/books/"+n+"/comments/").push().key;g.a.database().ref("/books/"+n+"/comments/"+r).set({comment:e.comment,date:s,username:t})}(t,e.state.signedInUser,r,(new Date).toDateString()),console.log(r)):window.alert("Please log in to comment!")},children:function(e){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)("div",{style:{paddingTop:"5px"},children:[Object(s.jsx)(w,{props:e,formikKey:"comment",placeholder:"Write comment..."}),Object(s.jsx)("button",{style:{height:"30px"},onClick:e.handleSubmit,children:"Comment"})]})})}})]})]}),Object(s.jsx)("div",{style:{padding:"10px"}})]})}))})]})}}]),n}(r.Component),I=g.a.database().ref("/books").push().key;var U=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{style:{textAlign:"center"},children:"Add New Book"}),Object(s.jsx)(S.a,{initialValues:{comment:""},onSubmit:function(t){!function(e){g.a.database().ref("/books/"+I).set({id:I,author:e.author,synopsis:e.synopsis,themes:e.themes,title:e.title,comments:0})}(t),e.props.history.push("/")},children:function(e){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)("div",{style:{textAlign:"center"},children:[Object(s.jsx)(k,{props:e,formikKey:"title",label:"Book Title",placeholder:"Title"}),Object(s.jsx)(k,{props:e,formikKey:"author",label:"Book's Author",placeholder:"Author"}),Object(s.jsx)(w,{props:e,formikKey:"synopsis",label:"Synopsis",placeholder:"Describe the plot!",style:{height:"100px",overflowWrap:"breakWord"}}),Object(s.jsx)(k,{props:e,formikKey:"themes",label:"Themes",placeholder:"List the book's themes"}),Object(s.jsx)("button",{onClick:e.handleSubmit,children:"Submit"})]})})}})]})}}]),n}(r.Component);function T(){return(T=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.auth().signInWithEmailAndPassword(t.email,t.password).catch((function(e){var t=e.code,n=e.message;"auth/wrong-password"===t?alert("Incorrect password."):alert(n),console.log(e)})),console.log("User logged in successfully."),window.alert("Thanks for logging in! Click the logo in the header to return to the home page.");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{style:{padding:"20px"},children:Object(s.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[Object(s.jsx)("h1",{children:"Sign Up Here"}),Object(s.jsx)(S.a,{initialValues:{email:"",password:"",confirmPassword:"",username:""},onSubmit:function(t,n){!function(e){g.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){g.a.database().ref("users/"+t.user.uid).set({uid:t.user.uid,username:e.username,email:e.email}).then(g.a.auth().onAuthStateChanged((function(t){t&&t.updateProfile({displayName:e.username})})))}))}(t),setTimeout((function(){n.setSubmitting(!1)}),1e3),e.props.history.push("/login")},children:function(e){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{props:e,formikKey:"email",label:"Email:",placeholder:"Email"}),Object(s.jsx)(k,{props:e,formikKey:"username",label:"Username:",placeholder:"Username"}),Object(s.jsx)(k,{props:e,formikKey:"password",label:"Password:",placeholder:"Password"}),Object(s.jsx)(k,{label:"Confirm Password:",props:e,formikKey:"confirmPassword",placeholder:"Please confirm password"}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:e.handleSubmit,children:"REGISTER"})})]})})}})]})})}}]),n}(r.Component),P=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).state={password:""},s}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{style:{padding:"20px"},children:Object(s.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[Object(s.jsx)("h1",{children:"Log In"}),Object(s.jsx)(S.a,{initialValues:{email:"",password:""},onSubmit:function(e,t){!function(e){T.apply(this,arguments)}(e)},children:function(e){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{props:e,formikKey:"email",label:"Email:",placeholder:"Email"}),Object(s.jsx)(k,{props:e,formikKey:"password",label:"Password:",placeholder:"Password"}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:e.handleSubmit,children:"LOGIN"})})]})})}}),Object(s.jsx)("h4",{style:{paddingTop:"15px"},children:"Don't have an account? Sign up to access site"}),Object(s.jsx)(o.b,{to:"/register",children:"Register"})]})})}}]),n}(r.Component),R=n.p+"static/media/bookClubLogo.03f879f4.JPG",L=(n(114),n(115),n(66),n(116),{textDecoration:"none"}),W=function(){return Object(s.jsx)("div",{style:{paddingTop:"10px"},children:Object(s.jsxs)("div",{style:{display:"flex",padding:"10px",paddingLeft:"10px",paddingTop:"20px"},children:[Object(s.jsx)(o.b,{to:"",style:L,children:Object(s.jsx)("img",{src:R,style:{width:"100px",height:"100px",borderRadius:"48px"}})}),Object(s.jsx)("div",{style:{paddingRight:"20px",marginLeft:"20px",width:"100px",textAlign:"center"},children:Object(s.jsxs)(o.b,{to:"/add",className:"link",children:[Object(s.jsx)(C.c,{icon:"plus",size:"3x"}),Object(s.jsx)("h5",{children:"Add New Book"})]})}),Object(s.jsx)("div",{style:{width:"100px",textAlign:"center"},children:Object(s.jsxs)(o.b,{to:"/login",className:"link",children:[Object(s.jsx)(C.c,{icon:"user",size:"3x"}),Object(s.jsx)("h5",{children:"Login/Register"})]})}),Object(s.jsx)("div",{style:{width:"100px",paddingLeft:"30px",textAlign:"center"},children:Object(s.jsxs)("a",{href:"https://join.skype.com/k8vs5q9SAeRJ",target:"_blank",className:"link",children:[Object(s.jsx)(C.c,{icon:"desktop",size:"3x"}),Object(s.jsx)("h5",{children:"Join Meeting"})]})})]})})},F=n(74),D=n.n(F),z=n.p+"static/media/logo.6ce24c58.svg";function E(){try{g.a.auth().signOut(),console.log("User logged out successfully."),window.location.reload()}catch(e){console.error(e)}}var V=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{style:{textAlign:"center"},children:[Object(s.jsx)("p",{children:Object(s.jsx)(D.a,{to:"/home",onClick:E,children:"Sign Out"})}),Object(s.jsxs)("p",{children:["Created with React.js ",Object(s.jsx)("img",{src:z,style:{width:"40px",height:"40px"}}),Object(s.jsx)("br",{}),(new Date).getFullYear()]})]})]})};var G=function(){function e(){return Object(s.jsx)("div",{children:Object(s.jsxs)(o.a,{basename:"/bookclub",children:[Object(s.jsx)(W,{}),Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:K}),Object(s.jsx)(l.a,{path:"/add",component:U}),Object(s.jsx)(l.a,{path:"/register",component:N}),Object(s.jsx)(l.a,{path:"/login",component:P})]}),Object(s.jsx)(V,{})]})})}return Object(s.jsx)("div",{children:Object(s.jsx)(e,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root")),J()},80:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.80c56348.chunk.js.map